/*============================================================================
@brief A C source header for tcm application layer
------------------------------------------------------------------------------
<!-- Written by Kevin Le Dinh -->
<!-- Copyright (C) 2016 All rights reserved -->
============================================================================*/

#ifndef tcm__app_types_h
#define tcm__app_types_h

/*----------------------------------------------------------------------------
  @brief

----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------
  nested include files
----------------------------------------------------------------------------*/
#include <stdint.h>

/*----------------------------------------------------------------------------
  macros
----------------------------------------------------------------------------*/
#define TCM_ERROR_OK                0x0000
#define TCM_ERROR_MISSING_IMG_DATA  0x0001
/*----------------------------------------------------------------------------
  manifest constants
----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------
  type definitions
----------------------------------------------------------------------------*/
typedef enum tcm__app_event_e
{
	TCM_EVENT_WAIT_FOR_CMD = 0,
	
	TCM_EVENT_WAIT_FOR_IMG,
	TCM_EVENT_TX_IMAGE,
	TCM_EVENT_FINISH_TX_IMAGE,
	
	TCM_EVENT_NUMBER_OF
}tcm__app_event_t;

typedef enum tcm__msg_type_e
{
	MSG_TYPE_TX_IMAGE = 0,
	MSG_TYPE_ACK,
	MSG_FINISH_TX_IMAGE,
	MSG_TYPE_FORWARD,
	MSG_TYPE_BACKWARD,
	MSG_TYPE_INVALID,
	//LED_ON
	//...
	
	MSG_TYPE_NUMBER_OF
	
}tcm__msg_type_t;

typedef struct tcm__msg_s
{
	tcm__msg_type_t tcm__msg_type;
	uint16_t payload;
}tcm__msg_t;

typedef struct tcm__app_s
{
	tcm__msg_t tcm__msg;
	tcm__app_event_t tcm__app_event;
    uint16_t img_data_size;
}tcm__app_t;

/*----------------------------------------------------------------------------
  extern variables
----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------
  prototypes
----------------------------------------------------------------------------*/


/*----------------------------------------------------------------------------
  compile time checks
----------------------------------------------------------------------------*/

#endif

/*----------------------------------------------------------------------------
  End of file
----------------------------------------------------------------------------*/
